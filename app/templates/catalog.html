{% extends "base.html" %}
{% block header %}
<link rel="stylesheet" href="{{ url_for('static', filename='catalog/style.css') }}" xmlns="http://www.w3.org/1999/html">
<title>Каталог</title>
{% endblock %}
{% block content %}
<div class="catalog">
    <h1 class="catalog__header">Каталог</h1>
    <div class="catalog__inner">
        <div class="catalog__titles">
            <div class="catalog__sortings">
                <div class="sortings__left">
                    <div class="sortings__block">
                        <span class="sortings__text">по популярности</span>
                        <svg class="sortings__icon" width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M4.29289 8.29289C4.68342 7.90237 5.31658 7.90237 5.70711 8.29289L12 14.5858L18.2929 8.29289C18.6834 7.90237 19.3166 7.90237 19.7071 8.29289C20.0976 8.68342 20.0976 9.31658 19.7071 9.70711L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289Z" fill="inherit"/>
                        </svg>
                    </div>
                    <div class="sortings__options sortings-list" hidden>
                        <div class="sortings-list__inner">
                            <div data-value="1" class="sortings-list__option sortings-list__option_selected">по просмотрам</div>
                            <div data-value="2" class="sortings-list__option">по сохранениям</div>
                            <div data-value="3" class="sortings-list__option">по кол-ву оценок</div>
                            <div data-value="4" class="sortings-list__option">по дате выхода</div>
                        </div>
                    </div>
                </div>
                <div class="sortings__right">
                    <div class="sortings__icon-block sortings__lines">
                        <svg version="1.1"
                             class="sortings__icon" id="svg2" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" sodipodi:docname="lines.svg" inkscape:version="0.48.4 r9939"
                             xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  width="800px" height="800px"
                             viewBox="0 0 1200 1200" enable-background="new 0 0 1200 1200" xml:space="preserve">
                            <path id="rect3039" inkscape:connector-curvature="0" d="M0,0v240h1200V0H0z M0,480v240h1200V480H0z M0,960v240h1200V960H0z"/>
                        </svg>
                    </div>
                    <div class="sortings__icon-block sortings__blocks sortings__icon-block_active">
                        <svg class="sortings__icon" width="800px" height="800px" viewBox="0 -0.5 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g id="Page-1" stroke="none" stroke-width="1" fill="inherit" fill-rule="evenodd">
                                <g id="Dribbble-Light-Preview" transform="translate(-219.000000, -200.000000)" >
                                    <g id="icons" transform="translate(56.000000, 160.000000)">
                                        <path d="M181.9,54 L179.8,54 C178.63975,54 177.7,54.895 177.7,56 L177.7,58 C177.7,59.105 178.63975,60 179.8,60 L181.9,60 C183.06025,60 184,59.105 184,58 L184,56 C184,54.895 183.06025,54 181.9,54 M174.55,54 L172.45,54 C171.28975,54 170.35,54.895 170.35,56 L170.35,58 C170.35,59.105 171.28975,60 172.45,60 L174.55,60 C175.71025,60 176.65,59.105 176.65,58 L176.65,56 C176.65,54.895 175.71025,54 174.55,54 M167.2,54 L165.1,54 C163.93975,54 163,54.895 163,56 L163,58 C163,59.105 163.93975,60 165.1,60 L167.2,60 C168.36025,60 169.3,59.105 169.3,58 L169.3,56 C169.3,54.895 168.36025,54 167.2,54 M181.9,47 L179.8,47 C178.63975,47 177.7,47.895 177.7,49 L177.7,51 C177.7,52.105 178.63975,53 179.8,53 L181.9,53 C183.06025,53 184,52.105 184,51 L184,49 C184,47.895 183.06025,47 181.9,47 M174.55,47 L172.45,47 C171.28975,47 170.35,47.895 170.35,49 L170.35,51 C170.35,52.105 171.28975,53 172.45,53 L174.55,53 C175.71025,53 176.65,52.105 176.65,51 L176.65,49 C176.65,47.895 175.71025,47 174.55,47 M167.2,47 L165.1,47 C163.93975,47 163,47.895 163,49 L163,51 C163,52.105 163.93975,53 165.1,53 L167.2,53 C168.36025,53 169.3,52.105 169.3,51 L169.3,49 C169.3,47.895 168.36025,47 167.2,47 M181.9,40 L179.8,40 C178.63975,40 177.7,40.895 177.7,42 L177.7,44 C177.7,45.105 178.63975,46 179.8,46 L181.9,46 C183.06025,46 184,45.105 184,44 L184,42 C184,40.895 183.06025,40 181.9,40 M174.55,40 L172.45,40 C171.28975,40 170.35,40.895 170.35,42 L170.35,44 C170.35,45.105 171.28975,46 172.45,46 L174.55,46 C175.71025,46 176.65,45.105 176.65,44 L176.65,42 C176.65,40.895 175.71025,40 174.55,40 M169.3,42 L169.3,44 C169.3,45.105 168.36025,46 167.2,46 L165.1,46 C163.93975,46 163,45.105 163,44 L163,42 C163,40.895 163.93975,40 165.1,40 L167.2,40 C168.36025,40 169.3,40.895 169.3,42" id="grid-[#1526]">

                                        </path>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="catalog__grid catalog__grid_square">
                {% for title in titles %}
                    <a class="catalog__link" href="/manga/{{ title.id }}">
                    <div class="catalog__item title title-square">
                        <img class="title-square__poster" src="{{ url_for('static', filename='media/posters/' + title['id']|string +'.jpg') }}">
                        <span class="title-square__data">
                            <span class="title-square__type">{{ title.type.name }}</span>
                            <span class="title-square__year">{{ title.year }}</span>
                        </span>
                        <p class="title-square__name">{{ title.name_russian }}</p>
                    </div>
                    </a>
                {% endfor %}
            </div>
        </div>
        <div class="catalog__filters filters">
            <div class="filters__headers">
                <h2 class="filters__title">Фильтры</h2>
                <div class="filters__clean">
                    <span class="filters__text">очистить</span>
                    <svg class="filters__icon" width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 5L4.99998 19M5.00001 5L19 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
            <div class="filters__form filter">
                <div class="filter__block select type" id="types">
                    <div class="select__selected selected"></div>
                    <div class="select__input-block filter__input-block">
                        <input type="text" class="select__input filter__input" placeholder="Тип">
                    </div>
                    <div class="select__list select-list">
                        <div class="select-list__inner" hidden>
                            {% for type in types %}
                            <div class="select-list__option" data-value="{{ type.id }}">{{ type.name }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="filter__block select genres" id="genres">
                    <div class="select__selected selected"></div>
                    <div class="select__input-block filter__input-block">
                        <input type="text" class="select__input filter__input" placeholder="Жанры">
                    </div>
                    <div class="select__list select-list">
                        <div class="select-list__inner" hidden>
                            {% for genre in genres %}
                            <div class="select-list__option" data-value="{{ genre.id }}">{{ genre.name }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="filter__block select status" id="status">
                    <div class="select__selected selected"></div>
                    <div class="select__input-block filter__input-block">
                        <input type="text" class="select__input filter__input" placeholder="Статус">
                    </div>
                    <div class="select__list select-list">
                        <div class="select-list__inner" hidden>
                            {% for status in statuses %}
                            <div class="select-list__option" data-value="{{ status.id }}">{{ status.name }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div class="filter__block range">
                    <span class="filter__header">Год выпуска</span>
                    <div class="range__inner">
                        <div class="range__input-block filter__input-block">
                            <input type="text" class="range__input filter__input" name="year_by" placeholder="от">
                        </div>
                        <div class="range__input-block filter__input-block">
                            <input type="text" class="range__input filter__input" name="year_to" placeholder="до">
                        </div>
                    </div>
                </div>
                <div class="filter__block range">
                    <span class="filter__header">Оценка</span>
                    <div class="range__inner">
                        <div class="range__input-block filter__input-block">
                            <input type="text" class="range__input filter__input" name="rating_by" placeholder="от">
                        </div>
                        <div class="range__input-block filter__input-block">
                            <input type="text" class="range__input filter__input" name="rating_to" placeholder="до">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block footer %}
<script src="{{ url_for('static', filename='catalog/get_titles.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/titles_on_enter.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/grid_element.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/change_grid.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/update_grid.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/scroll_titles.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/sorting.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/select.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/range.js') }}"></script>
<script src="{{ url_for('static', filename='catalog/adaptive.js') }}"></script>
{% endblock %}